!function(a){"use strict";a.module("LogicifyGMap",[])}(angular),function(a){"use strict";a.module("LogicifyGMap").directive("logicifyGmapControl",["$compile","$log","$timeout",function(b,c,d){return{restrict:"E",require:"^logicifyGmap",link:function(c,e,f,g){function h(a,b){google.maps.event.addDomListener(l[0],a,function(){var a=arguments,c=this;d(function(){b.apply(c,a)})})}var i=c.$eval(f.controlPosition),j=c.$eval(f.controlIndex),k=c.$eval(f.events),l=a.element(e.html().trim());b(l)(c),d(function(){c.$apply()}),l[0].index=j||0,e.html(""),g.$mapReady(function(b){if(!b.controls[i])throw new Error("Position of control on the map is invalid. Please see google maps spec.");b.controls[i].push(l[0]),null!=k&&a.forEach(k,function(a,b){"function"==typeof a&&h(b,a)})})}}}])}(angular),function(a){"use strict";a.module("LogicifyGMap").directive("logicifyGmap",["$compile","$log","$timeout",function(b,c,d){return{restrict:"E",controller:function(){var a=this,b=[];return a.$mapReady=function(c){return c&&a.map?void c(a.map):void("function"==typeof c&&b.push(c))},a.$setTheMap=function(c){for(var d=0;d<b.length;d++)b[d](c);b=[],a.map=c},a},link:function(e,f,g,h){if("undefined"==typeof google)return void c.error("There is no google maps lib. Please check that you load it before angular.js");var i=e.$new(),j=i.$eval(g.gmOptions),k=i.$eval(g.gmReady),l={zoom:8,center:new google.maps.LatLng(-34.397,150.644)},m=i.$eval(g.cssOptions);j=j||{};var n={height:"100%",width:"100%",position:"absolute"};a.extend(n,m),a.extend(l,j),f.css(n);var o=a.element("<div>");o.css({height:"100%",width:"100%",margin:0,padding:0}),f.append(o);var p=new google.maps.Map(o[0],l);"function"==typeof k&&k(p),p.openInfoWnd=function(a,c,e,f,g){if(g.apply(f,[c,e]),f.$scope&&f.$compiled)d(function(){f.$scope.$apply()});else{var h=i.$new();h.$infoWND=f,f.$scope=h,d(function(){h.$apply()})}if(f.$compiled!==!0){var j=b(a.trim())(f.$scope);f.$compiled=!0,f.setContent(j[0])}},p.closeInfoWnd=function(a,b){a.$scope&&(a.$compiled=!1,a.$scope.$destroy(),delete a.$scope,delete a.$compiled),b.apply(a,[])},h.$setTheMap(p)}}}])}(angular),function(a){a.module("LogicifyGMap").service("InfoWindow",["$log","$rootScope","$templateCache","$timeout","$http","$compile",function(a,b,c,d,e,f){function g(){function b(b){var c=d.open;d.open=function(a,e){h=a,"function"==typeof a.openInfoWnd&&a.openInfoWnd(b,a,e,d,c)};var e=d.close;if(d.close=function(b){return h?void("function"==typeof h.closeInfoWnd&&b===!0?h.closeInfoWnd(d,e):e.apply(d,[])):void a.error("Info window is closed now, you can not close it twice!")},g=!0,f.length>0){for(var i=0;i<f.length;i++)f[i](d);f=[]}}if(!google)return void a.error("Google maps lib is not found. Please check that you load it before angular.");var d=this,f=[],g=!1;d.$ready=function(a){return g===!0&&a?void a(d):void(a&&f.push(a))};var h=null;arguments[0]?arguments[0].templateUrl?e.get(arguments[0].templateUrl,{cache:c}).then(function(a){arguments[0].content=a.data,google.maps.InfoWindow.apply(d,arguments),b(a.data)}):arguments[0].content&&(google.maps.InfoWindow.apply(d,arguments),b(arguments[0].content)):google.maps.InfoWindow.apply(d,arguments)}return google&&(g.prototype=Object.create(google.maps.InfoWindow.prototype),g.prototype.constructor=g),g}])}(angular);